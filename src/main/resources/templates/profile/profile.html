<html layout:decorate="~{layout_mypage}">
<div layout:fragment="mypageContent">
	
	<style>
		th.bg{ 
			background-color: #fbe1e0;
		    width:20%;
		}
	    
		.noline {
			text-decoration-line: none;
			color: black;
		}
		
		.siz  {
			width:40%;
		}
		
		.box {
		    width: 300px;
		    height: 300px; 
		    border-radius: 80%;
		    overflow: hidden;
		}
		.profile {
		    width: 100%;
		    height: 100%;
		    object-fit: cover;
			border-style:solid;
			border-width:3px;
			border-color:black;
			border-radius:100%;
		}
	
	
		
	</style>
	
	
	<!--전체 영역-->
	<div>
		<!--콘텐츠 영역-->
		<div>	
			<!--로고 영역-->	
			<div>
				로고
			</div>
			<!--콘텐츠 세부 영역-->
			<div class="frame-dvd my-3">
			
			<center>
				<!--프로필 사진-->
				<span class="bg"><h3><a class="noline" th:href="@{/mypage/profile}">내 프로필</a></h3></span>
				<div class="box" >
				<img class="profile" th:if="${memberProfile.image != null}" th:src="@{|/img/${memberProfile.image.storeFilename}|}" >
			    <img class="profile" th:unless="${memberProfile.image != null}" src="/img/default_profile.png" >
			    </div>
			</center>
			<!-- 프로필 이미지 수정 modal -->
			    <center class="my-3">
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
				  프로필 이미지 수정
				</button>
				</center><br>

				<!-- Modal -->
				<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  <div class="modal-dialog">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h1 class="modal-title fs-5" id="exampleModalLabel">프로필 이미지 수정</h1>
				        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				      </div>
				      <div class="modal-body">
						<form th:action="@{/image/upload}" method="post" enctype="multipart/form-data">
				        <input type="file" name="files" accept="image/png, image/jpg, image/jpeg" >
						<span>(jpg, jpeg, png)</span>
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
				        <button type="submit" class="btn btn-primary">저장하기</button>
				      </div>
					  </form>
				    </div>
				  </div>
				</div>
			<table class="table table-bordered container my-4" style="width:60%">
				<tr>
				  <th class="bg">닉네임</th>	
				  <td align="" th:text="${memberProfile.membernick}"></td>
				</tr>
				<tr>
				  <th class="bg">당도</th>	
				  <td th:if="${memberProfile.profile != null}" th:text="${memberProfile.profile.brix}"></td>
				  <td th:unless="${memberProfile.profile != null}" >4.5</td>
				</tr>
				<tr>
				  <th class="bg">성별</th>	
				  <td th:if="${memberProfile.profile != null}" th:text="${memberProfile.profile.gender}"></td>
				  <td th:unless="${memberProfile.profile != null}" >미입력</td>
   			    </tr>
				<tr>
				  <th class="bg">MBTI</th>
				  <td th:if="${memberProfile.profile != null}" th:text="${memberProfile.profile.mbti}"></td>
				  <td th:unless="${memberProfile.profile != null}" >미입력</td>	
				</tr>
				<tr>
				  <th class="bg">자기소개</th>
				  <td th:if="${memberProfile.profile != null}" th:text="${memberProfile.profile.content}"></td>
				  <td th:unless="${memberProfile.profile != null}" >미입력</td>	
				</tr>
			</table>
			
			<center>
				<a th:href="@{/mypage/modifyProfile}" class="btn btn-primary">프로필수정</a>
			</center>
			
		  
		</div>
	   </div>
	  </div>
</div>	
</html>