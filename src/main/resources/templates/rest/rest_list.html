<!DOCTYPE html>
<html layout:decorate="~{layout}">
	<head>
		<link rel="stylesheet" type="text/css" th:href="@{/css/restList.css}">
		<link rel="stylesheet" type="text/css" th:href="@{/css/index.css}">
	<title>맛집검색하자</title>
	</head>
	<body>
		<div layout:fragment="content" >
		<div class="mid">
			<div class="search_header">
				

					<!--검색-->
					<div class="search">
							<div class="input-group">
							<input type="text" id="search_kw" class="form-control" th:value="${kw}">
							<button class="btn btn-outline-primary" type="button" id="btn_search">찾기</button>
							</div>
					</div>
						
							<form th:action="@{/rest/list/search}" method="get" id="searchForm">
							<input type="hidden" id="kw" name="kw" th:value="${kw}">
									   
							</form>
					
				
					
			</div>
			
	
			
			
			
			<div class="new_list">	
				<!--식당사진 리스트-->
				<div class="list">

					
					<div class="card border-primary mb-3   c1"  th:each="rest : ${paging}">
						<a th:href="@{|/rest/detail/${rest.no}|}" class="a1">
							<!--사진-->
							<div class="c2">
							<img th:src="${rest.img}" class="img">	
								
							</div>
								<div class="card-body" >
									<h5 class="card-title ">
									<span th:text="${rest.name}"></span></h5>
									<p class="card-text" th:text="${rest.menu}"></p>
										
									<i class="fi fi-sr-heart" style="color: rgb(255, 0, 0);">					
									</i>찜(3)	&nbsp;|&nbsp;
									<i class="fi fi-sr-peach" style="color: #eb6864;">
									</i>평점(4.7)
								 </div>
						</a>			  
					</div>
				</div>
			</div>
			
			<!--페이징-->
			<div th:if="${!paging.isEmpty()}">
					<ul class="pagination justify-content-center">

						<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number-1}|}">
								<span>이전</span>
							</a>
						</li>
						
						<li th:each="page : ${#numbers.sequence(0, paging.totalPages-1) }"
						th:if="${page >= paging.number -3 and page <= paging.number + 3}"
						th:classappend="${page==paging.number} ? 'active'" class="page-item">
							<a th:text="${page+1}" class="page-link" th:href="@{|?page=${page}|}"></a>
						</li>
						
						<li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number+1}|}">
								<span>다음</span>
							</a>
						</li>
					</ul>
				</div>
	
		</div>
		
		
		<div class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
		  <div class="d-flex">
		    <div class="toast-body">
		      Hello, world! This is a toast message.
		    </div>
		    <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
		  </div>
		</div>

		<!--룰렛
			
		<div class="r">	
		  <canvas width="380" height='380'></canvas>  
		  <button class="r_b" onclick="rotate()">룰렛 돌리기</button>
		</div>-->
		
		
	</div>
		
		<!--검색 js-->
		<script layout:fragment="script" type='text/javascript'>

		const btn_search = document.getElementById("btn_search");
		btn_search.addEventListener('click', function() {
		    document.getElementById('kw').value = document.getElementById('search_kw').value;
		  
		    document.getElementById('searchForm').submit();
		});
		</script>
	</body>
</html>
	