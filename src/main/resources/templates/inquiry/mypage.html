<html layout:decorate="~{/inquiry/layout}">
	<div layout:fragment="content">
		<style>
		
			a.no {
			text-decoration: none;
			color :black;
			font-size : 30px;
		   }
		   
		</style>
		
		<div class="container">
			<!--게시판 이름-->
			<div>
				<a class="no" th:href="@{/mypage/inquiryPosting}">문의하기</a>
			</div>
			
			<!--글 목록-->
			<table class="table table-hover">
				<thead>
					<tr class="table-primary">
					<th>제목</th>
					<th>작성일</th>
					</tr>
				</thead>
				<tbody>
					<div>
						<tr class="table" th:each="posting :${paging}">
						   <td class="st" style="width:50%;">
							<!--제목이 너무 길어지면 ....으로 나오는 방법으로 하기-->
							<a class="noline" th:href="@{|/mypage/inquiryPosting/detail/${posting.id}|}" th:text="${posting.subject}"></a>
						   </td>
						   <!--여기에 만약 오늘 날짜랑 같다면 시간만 출력하게 하고 // 아니라면 시간은 제외 날짜만 출력할 수 있게 변경-->
						   <td th:text="${#temporals.format(posting.createDate, 'yyyy.MM.dd hh:mm')}"></td>
						</tr>
					</div>
				</tbody>
			</table>	
			
			<!--문의 글 목록 페이징-->
			<div th:if="${!paging.isEmpty()}">
					<ul class="pagination justify-content-center">

						<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number-1}|}">
								<span>이전</span>
							</a>
						</li>
						
						<li th:each="page : ${#numbers.sequence(0, paging.totalPages-1) }"
						th:if="${page >= paging.number -3 and page <= paging.number + 3}"
						th:classappend="${page==paging.number} ? 'active'" class="page-item">
							<a th:text="${page+1}" class="page-link" th:href="@{|?page=${page}|}"></a>
						</li>
						
						<li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number+1}|}">
								<span>다음</span>
							</a>
						</li>
					</ul>
				</div>

	   <!--문의 글 작성-->		
		<div class="container accordion accordion-flush" id="accordionFlushExample" style="accordion-color:var(blue);">
		  <div class="accordion-item" style="accordion-color:var(blue);">
		    <h2 class="accordion-header" style="accordion-color:var(blue);">
		      <button  class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="true" aria-controls="flush-collapseOne">
		        문의하기
		      </button>
		    </h2>
		    <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
		      <div class="accordion-body">
		        <form th:action="@{/mypage/inquiryPosting/create}" th:object="${inquiryPostingForm}" method="post">
					<!--알림창으로 띄우자-->
					<div th:replace="~{/inquiry/form_errors :: formErrorsFragment}"></div>
				<div>
					<th>제목</th>
					<input th:field="*{subject}">
				</div>
				<div>
					<th>내용</th>
					<textarea rows="5" th:field="*{content}"></textarea>
				</div>
				<button type="submit" class="btn btn-primary">글 등록</button>
				</form>
		      </div>
		    </div>
		  </div>
		
		</div>
	</div>
</html>
