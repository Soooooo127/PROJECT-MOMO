<html layout:decorate="~{layout}">
	<div layout:fragment="content">
		<style>
		
			a.no {
			text-decoration: none;
			color :black;
			font-size : 20px;
			
		   }
		   
		   a.noline {
			        
		   			text-decoration: none;
		   			color : black;

		   		}
		
				
		   th.bg{ 
					background-color: #fbe1e0;
				    width:20%;
				}	
				
				
		   td {
			max-width: 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		   }
		   td.column_a {width: 50%;}
		   td.column_b {width: 25%;}
		   td.column_c {width: 25%;}
		   
		</style>

			<table class="table container my-3">
				 
				     <tr>
				       <th><a class="noline" th:href="@{/mypage/profile}">내 프로필</a></th>
				     </tr>
					 <tr>
					   <th class="bg"><a class="noline" th:href="@{/mypage/inquiryPosting}">나의 활동</a></th>
					   <td rowspan="6">
						<!--게시판 이름-->
									<span>
										<a class="no" th:href="@{/mypage/inquiryPosting}">문의하기</a>
									</span>
									
									<!--글 목록-->
									<table class="table table-hover">
										<thead>
											<tr class="table-primary">
											<th>제목</th>
											<th>작성일</th>
											<th></th>
											</tr>
										</thead>
										<tbody>
											<div class="shortTitle">
												<tr class="table" th:each="posting :${paging}">
												   <td class="column_a">
													<a class="noline" th:href="@{|/mypage/inquiryPosting/detail/${posting.no}|}" th:text="${posting.subject}"></a>
												   </td>
												   <td td class="column_b" th:if="${#calendars.format(#calendars.createNow(), 'yyyy.MM.dd') == #temporals.format(posting.createDate, 'yyyy.MM.dd')}" 
												   	   th:text="${#temporals.format(posting.createDate, 'HH:mm')}"></td>
												   <td td class="column_b" th:unless="${#calendars.format(#calendars.createNow(), 'yyyy.MM.dd') == #temporals.format(posting.createDate, 'yyyy.MM.dd')}" 
												   	   th:text="${#temporals.format(posting.createDate, 'yyyy.MM.dd')}"></td>	
												   <td td class="column_c" th:if="${#lists.size(posting.commentList) > 0 }">답변 완료</td>
												   <td td class="column_c" th:unless="${#lists.size(posting.commentList) > 0}">답변 대기</td>
												</tr>
											</div>
										</tbody>
									</table>	
									
									<!--문의 글 목록 페이징-->
									<div th:if="${!paging.isEmpty()}">
											<ul class="pagination justify-content-center">

												<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
													<a class="page-link" th:href="@{|?page=${paging.number-1}|}">
														<span>이전</span>
													</a>
												</li>
												
												<li th:each="page : ${#numbers.sequence(0, paging.totalPages-1) }"
												th:if="${page >= paging.number -3 and page <= paging.number + 3}"
												th:classappend="${page==paging.number} ? 'active'" class="page-item">
													<a th:text="${page+1}" class="page-link" th:href="@{|?page=${page}|}"></a>
												</li>
												
												<li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
													<a class="page-link" th:href="@{|?page=${paging.number+1}|}">
														<span>다음</span>
													</a>
												</li>
											</ul>
										</div>
                                
							   	
							   <div class="accordion" id="accordionExample">
							   		<div class="accordion-item">
							   			<h2 class="accordion-header" id="headingOne">
							   				 <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
								             문의하기
								             </button>
								         </h2>
								    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
								      <div class="accordion-body">
								        <form th:action="@{/mypage/inquiryPosting/create}" th:object="${inquiryPostingForm}" method="post">
											
											<div th:replace="~{form_errors :: formErrorsFragment}"></div>
										<div>
                                            <span>제목  </span>
											<input th:field="*{subject}">
										</div>
										<div>
											<span>내용  </span>
											<textarea rows="3" th:field="*{content}"></textarea>
										</div>
										<button type="submit" class="btn btn-primary">글 등록</button>
										</form>
								      </div>
								    </div>
								  </div>
								
								</div>  
						
					   </td>
			 	     </tr>
					 <tr>
					   <th >내 같이 먹기</th>
					 </tr>
					 <tr>
					   <th >회원정보 수정</th>
					 </tr>
					 <tr>
					   <th> <a class="noline" th:href="@{/friend/list}">내 친구</a></th>
					 </tr>
					 <tr>
					   <th >회원 탈퇴</th>
					 </tr>
				   </table> 
	</div>
</html>
