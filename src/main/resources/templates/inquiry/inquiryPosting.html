<html layout:decorate="~{layout}">
	<div layout:fragment="content">
		<style>
		
			a.no {
			text-decoration: none;
			color :black;
			font-size : 20px;
			
		   }
		   
		   a.noline {
			        
		   			text-decoration: none;
		   			color : black;

		   		}
		
				
		   th.bg{ 
					background-color: #fbe1e0;
				    width:20%;
				}	
				
				
		   td {
			max-width: 0;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		   }
		   td.column_a {width: 50%;}
		   td.column_b {width: 25%;}
		   td.column_c {width: 25%;}
		   
		</style>
    <!--전체-->   
	<div class="container my-3">
		<h3>나의 문의 목록</h3>
		<!--글 목록-->
		<table class="table table-hover">
			<thead>
			   <tr class="table-primary">
				<th>제목</th>
			    <th>작성일</th>
				<th></th>
			   </tr>
			</thead>
			<tbody>
			   <div class="shortTitle">
				<tr class="table" th:each="posting :${paging}">
			     <td class="column_a">
				   <a class="noline" th:href="@{|/inquiryPosting/detail/${posting.no}|}" th:text="${posting.subject}"></a>
				 </td>
				 <td td class="column_b" th:if="${#calendars.format(#calendars.createNow(), 'yyyy.MM.dd') == #temporals.format(posting.createDate, 'yyyy.MM.dd')}" 
				  th:text="${#temporals.format(posting.createDate, 'HH:mm')}"></td>
				 <td td class="column_b" th:unless="${#calendars.format(#calendars.createNow(), 'yyyy.MM.dd') == #temporals.format(posting.createDate, 'yyyy.MM.dd')}" 
				  th:text="${#temporals.format(posting.createDate, 'yyyy.MM.dd')}"></td>	
	             <td td class="column_c" th:if="${#lists.size(posting.commentList) > 0 }">답변 완료</td>
			     <td td class="column_c" th:unless="${#lists.size(posting.commentList) > 0}">답변 대기</td>
				</tr>
			   </div>
			</tbody>
		</table>	
		<!--글쓰기 버튼-->
		<div align="right">
		<a th:href="@{/inquiryPosting/create}"><button type="button" class="btn btn-primary btn-sm">글쓰기</button></a>
		</div>									
			<!--문의 글 목록 페이징-->
			<div th:if="${!paging.isEmpty()}">
				<ul class="pagination justify-content-center">
                   <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
					 <a class="page-link" th:href="@{|?page=${paging.number-1}|}">
						<span>이전</span>
				     </a>
				   </li>
				   <li th:each="page : ${#numbers.sequence(0, paging.totalPages-1) }"
					th:if="${page >= paging.number -3 and page <= paging.number + 3}"
				    th:classappend="${page==paging.number} ? 'active'" class="page-item">
					  <a th:text="${page+1}" class="page-link" th:href="@{|?page=${page}|}"></a>
				   </li>
				   <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
					  <a class="page-link" th:href="@{|?page=${paging.number+1}|}">
						<span>다음</span>
					  </a>
				   </li>
				</ul>
			</div>		     				
		</div>
	</div>
</html>
